(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60178df8"],{"3b46":function(t,e,s){"use strict";var a=s("b17f"),o=s.n(a);o.a},"4e22":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"s-wrapper"},[s("div",{staticClass:"s"},[s("el-row",{staticClass:"nav"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{staticClass:"link-style",attrs:{to:{path:"/"}}},[t._v(t._s(t.city)+"美团")]),s("el-breadcrumb-item",{staticClass:"link-style",attrs:{to:{path:"/"}}},[t._v(t._s(t.city)+t._s(t.search))])],1)],1),s("el-row",{staticClass:"s-content",attrs:{gutter:10}},[s("el-col",{attrs:{span:19}},[s("el-row",{staticClass:"left-content"},[s("pop-over-category",{attrs:{categories:t.category,title:"分类"}}),s("pop-over-category",{attrs:{categories:t.category,title:"分类2"}})],1),s("el-row",{staticClass:"produce-wrapper"},[s("produce-list")],1)],1),s("el-col",{staticClass:"right-content",attrs:{span:5}},[s("div",{staticClass:"g-y-l-w"},[s("guest-you-like")],1)])],1)],1)])},o=[],r=(s("386d"),s("ba42")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"produce-list"},[s("el-row",{staticClass:"sort-list"},t._l(t.sortList,function(e){return s("el-col",{key:e.name,staticClass:"sort-option",attrs:{span:3}},[e.sorted?s("span",{class:{active:t.sortName===e.name},on:{click:function(s){return t.changeSort(e)}}},[t._v(t._s(e.title+(t.sortName===e.name?e.sorted:"排序"))+"\n                "),s("i",{staticClass:"el-icon-caret-top arrow",class:{active:t.sortName===e.name&&"最低"===e.sorted}}),s("i",{staticClass:"el-icon-caret-bottom arrow",class:{active:t.sortName===e.name&&"最高"===e.sorted}})]):s("span",{class:{active:t.sortName===e.name},on:{click:function(s){return t.changeSort(e)}}},[t._v(t._s(e.title))])])}),1),s("el-row",{staticClass:"produce-content"},t._l(t.produceItems,function(t,e){return s("div",{key:t.id,staticClass:"food-produce-wrapper"},[s("food-produce",{attrs:{produce:t,idx:e+1}})],1)}),0)],1)},n=[],c=(s("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-row",{staticClass:"food-produce-card"},[s("el-col",{staticClass:"main-img",attrs:{span:6}},[s("img",{attrs:{src:t.produce.imageUrl.replace("/w.h","")}}),s("span",[t._v(t._s(t.idx))])]),s("el-col",{staticClass:"card-content",attrs:{span:18}},[s("el-row",{staticClass:"content-desc"},[s("el-row",[s("h3",[t._v(t._s(t.produce.title))])]),s("el-row",[s("el-rate",{attrs:{disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.produce.avgscore,callback:function(e){t.$set(t.produce,"avgscore",e)},expression:"produce.avgscore"}}),t.produce.avgscore>4.5?s("span",[t._v("很好")]):t.produce.avgscore>4?s("span",[t._v("好")]):s("span",[t._v("不错")]),s("span",{},[t._v(t._s(t.produce.avgscore)+"分")]),s("span",{staticClass:"comment-sum"},[t._v(t._s(t.produce.comments)+"人评论")])],1),s("el-row",[s("span",{staticClass:"cat-info ellipsis"},[t._v(t._s(t.produce.backCateName)+"|"+t._s(t.produce.areaname))]),s("span",{staticClass:"location"},[t._v(t._s(t.produce.address))])]),s("el-row",[s("span",[t._v("人均¥"+t._s(t.produce.avgprice))])])],1),t.produce.deals&&t.produce.deals.length>0?s("el-row",{staticClass:"deal-container"},[s("div",{staticClass:"deal-wrapper"},t._l(t.showDeals,function(e){return s("router-link",{key:e.id,attrs:{to:"#"}},[s("div",{staticClass:"deal"},[s("h3",[t._v(t._s(e.title))]),s("p",[s("span",{staticClass:"deal-price"},[t._v(t._s(e.price))]),s("span",[t._v("门市价¥"+t._s(e.value))]),s("span",[t._v("已售"+t._s(e.sales))])])])])}),1),t.produce.deals.length>2?s("el-row",{staticClass:"more-btn"},[t.showDealCount<t.produce.deals.length?s("span",{on:{click:function(e){return t.changeShowDealCount(t.produce.deals.length)}}},[t._v("更多"+t._s(t.produce.deals.length-t.showDealCount)+"个优惠"),s("i",{staticClass:"el-icon-arrow-down"})]):s("span",{on:{click:function(e){return t.changeShowDealCount(2)}}},[t._v("收起"),s("i",{staticClass:"el-icon-arrow-up"})])]):t._e()],1):t._e()],1)],1)}),i=[],u={name:"foodProduce",props:["produce","idx"],data:function(){return{showDealCount:2}},computed:{showDeals:function(){return this.produce.deals.slice(0,this.showDealCount)}},methods:{changeShowDealCount:function(t){this.showDealCount=t}}},p=u,d=(s("3b46"),s("2877")),m=Object(d["a"])(p,c,i,!1,null,null,null),h=m.exports,f={name:"produceList",components:{FoodProduce:h},data:function(){return{sortName:"feed",sortList:[{name:"feed",title:"智能排序"},{name:"price",title:"价格",sorted:"最高"},{name:"hot",title:"人气最高"},{name:"star",title:"评级最高"}],produceItems:[{id:157179427,template:"pcfood",imageUrl:"http://p1.meituan.net/w.h/deal/d19f8cb6d43951b08c075c7b8eea7551380465.jpg",title:"顺德私厨·无骨鱼专门店",address:"越秀区西湖路18一28号广百新翼商务中心10楼",lowestprice:138,avgprice:67,latitude:23.123371,longitude:113.268033,showType:"food",avgscore:3.5,comments:22,historyCouponCount:857,backCateName:"粤菜",areaname:"北京路商业区",deals:[{id:50801402,title:"飞鱼双人餐，提供免费WiFi",subtitleA:null,subtitleB:null,subtitleC:null,price:138,value:183,sales:33,iUrl:"",stid:null,trace:null,tag:{promotion:[]}},{id:50895228,title:"无骨鱼6人餐，提供免费WiFi",subtitleA:null,subtitleB:null,subtitleC:null,price:298,value:395,sales:16,iUrl:"",stid:null,trace:null,tag:{promotion:[]}},{id:50801799,title:"300元饭市代金券1张",subtitleA:null,subtitleB:null,subtitleC:null,price:268,value:300,sales:52,iUrl:"",stid:null,trace:null,tag:{promotion:[]}}],posdescr:null,ct_poi:null,trace:null,landmarkDistance:null,hasAds:!1,adsClickUrl:"",adsShowUrl:"",distance:"",cityId:20,city:"广州",full:!1}]}},methods:{changeSort:function(t){this.sortName===t.name?t.sorted&&("最高"===t.sorted?t.sorted="最低":t.sorted="最高"):this.sortName=t.name}}},g=f,C=(s("c2a7"),Object(d["a"])(g,l,n,!1,null,null,null)),v=C.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guest-you-like"},[s("h3",[t._v("猜你喜欢")]),s("ul",t._l(t.items,function(e){return s("router-link",{key:e.itemId,attrs:{to:"#"}},[s("li",[s("img",{attrs:{src:e.imgUrl.replace("/w.h",""),alt:""}}),s("p",{staticClass:"name"},[t._v(t._s(e.title))]),s("p",{staticClass:"area"},[t._v(t._s(e.areaName))]),s("p",{staticClass:"price"},[t._v(t._s(e.avgPrice))])])])}),1)])},w=[],y={name:"guestYouLike",data:function(){return{items:[{itemId:"158809828",title:"旺顺阁鱼头泡饼（长阳半岛店）",imgUrl:"https://img.meituan.net/w.h/msmerchant/7bb3dc8d9c439964b77c960b4e40da8810178533.jpg",score:"4.5",consumeNum:null,areaName:"长阳镇",lowPrice:"95.0",saleNum:null,commentNum:152,detailUrl:"",firstCate:[1,20632,20426,20557],avgPrice:123}]}}},b=y,k=(s("57ad"),Object(d["a"])(b,_,w,!1,null,null,null)),N=k.exports,I={name:"search",components:{GuestYouLike:N,ProduceList:v,PopOverCategory:r["a"]},data:function(){return{category:[{name:"美食",options:["全部","酒店住宿","周边游","休闲娱乐","生活服务","宴会","时尚购","旅游","丽人","运动健身","母婴亲子","宠物","汽车服务","摄影写真","结婚","交通枢纽","家装","学习培训","医疗","榛果民宿"]},{name:"酒店住宿",options:["全部","酒店住宿","周边游","休闲娱乐","生活服务","宴会","时尚购","旅游","丽人","运动健身","母婴亲子","宠物","汽车服务","摄影写真","结婚","交通枢纽","家装","学习培训","医疗","榛果民宿"]},{name:"周边游",options:["全部","景点"]},{name:"丽人",options:["全部","景点"]},{name:"结婚",options:["全部","景点"]},{name:"家装",options:["全部","景点"]},{name:"榛果民宿"}]}},computed:{categoryFilter:function(){return this.$store.state.search.searchCategory.key},city:function(){return this.$store.state.userInfo.city},search:function(){return this.$store.state.userInfo.search}},created:function(){this.updateSearch(this.$route)},beforeRouteUpdate:function(t,e,s){this.updateSearch(t),s()},methods:{updateSearch:function(t){var e=t.query["s"];this.$store.commit("userInfo/setSearch",{search:e})}},watch:{categoryFilter:function(t){console.log(this.$store.state.search.searchCategory.data)}}},S=I,$=(s("e921"),Object(d["a"])(S,a,o,!1,null,null,null));e["default"]=$.exports},"57ad":function(t,e,s){"use strict";var a=s("87b8"),o=s.n(a);o.a},"87b8":function(t,e,s){},"9b8f":function(t,e,s){},a46b:function(t,e,s){},b17f:function(t,e,s){},b938:function(t,e,s){"use strict";var a=s("a46b"),o=s.n(a);o.a},ba42:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pop-wrapper"},[s("el-row",{staticClass:"filter"},[s("el-col",{attrs:{span:3}},[s("el-col",{staticClass:"title",attrs:{span:12}},[t._v("\n                "+t._s(t.title)+"\n            ")]),s("el-col",{attrs:{span:12}},[s("span",{staticClass:"tag",class:{"tag-select":t.selectedAll},on:{click:function(e){return t.choose("all","all")}}},[t._v("\n                    全部\n                ")])])],1),s("el-col",{staticClass:"category-col",attrs:{span:21}},t._l(t.categories,function(e){return s("el-col",{key:e.name,staticClass:"category-wrapper",attrs:{span:4}},[e.options&&e.options.length>0?s("span",{staticClass:"tag",class:{"tag-select":e.name===t.selectedCategory},on:{mouseenter:function(s){return t.changeShowCategory(e,s)},mouseleave:t.clearPop}},[e.name===t.selectedCategory&&"全部"!==t.selectedItem?[t._v("\n                        "+t._s(t.selectedItem)+"\n                    ")]:[t._v("\n                        "+t._s(e.name)+"\n                    ")],s("i",{staticClass:"el-icon-caret-bottom"})],2):s("span",{staticClass:"tag",class:{"tag-select":e.name===t.selectedCategory},on:{click:function(s){return t.choose(e.name,"全部")}}},[t._v("\n                        "+t._s(e.name)+"\n                ")])])}),1)],1),t.showCategory?s("div",{staticClass:"m-dialog",style:{left:t.popLeft,top:t.popTop},on:{mouseenter:t.enterPop,mouseleave:t.clearPop}},[s("div",{staticClass:"options"},[s("el-row",[s("h3",[t._v(t._s(t.showCategory.name))])]),s("el-row",t._l(t.showCategory.options,function(e){return s("el-col",{key:e,attrs:{span:6}},[s("span",{staticClass:"tag",class:{"tag-select":t.showCategory.name===t.selectedCategory&&e===t.selectedItem},on:{click:function(s){return t.choose(t.showCategory.name,e)}}},[t._v(t._s(e))])])}),1)],1)]):t._e()],1)},o=[],r={name:"popOverCategory",props:["categories","title"],data:function(){return{selected:"",selectedDetail:"",showCategory:null,selectedCategory:"all",selectedItem:"all",popLeft:0,popTop:0}},computed:{selectedAll:function(){return"all"===this.selectedCategory&&"all"===this.selectedItem}},methods:{changeShowCategory:function(t,e){var s=this;clearTimeout(this.timer),this.timer=setTimeout(function(){!t.options||t.options.length<=0||(s.popTop=e.target.offsetTop+e.target.offsetHeight+20+"px",s.popLeft=e.target.offsetLeft+20+"px",s.showCategory=t)},300)},choose:function(t,e){this.selectedCategory=t,this.selectedItem=e,this.$store.commit("search/addSearch",{search:{name:this.title,category:t,item:e}}),this.showCategory=null},clearPop:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.showCategory=null},300)},enterPop:function(){clearTimeout(this.timer)}}},l=r,n=(s("b938"),s("2877")),c=Object(n["a"])(l,a,o,!1,null,null,null);e["a"]=c.exports},c2a7:function(t,e,s){"use strict";var a=s("dfc0"),o=s.n(a);o.a},dfc0:function(t,e,s){},e921:function(t,e,s){"use strict";var a=s("9b8f"),o=s.n(a);o.a}}]);
//# sourceMappingURL=chunk-60178df8.58239e5b.js.map